Alpine.data("app",(function(){return{query:[],dataFaturamento:[],dataConta:[],idxConta:null,loadingModal:!1,paginatedData:[],loadingPesq:!1,buttonSalvar:" <i class='fa fa-check'></i>  Salvar ",buttonPesquisar:"  <span class='glyphicon glyphicon-search' aria-hidden='true'></span> ",buttonTempleatePesquisar:"  <span class='glyphicon glyphicon-search' aria-hidden='true'></span> ",currentPage:1,totalPages:0,totalLinhas:0,itemsPerPage:50,loadingAcao:null,init:function(){this.getPage()},goToPage:function(a){a>=1&&a<=this.totalPages&&(this.currentPage=a,this.getPage())},nextPage:function(){this.currentPage<this.totalPages&&(this.currentPage++,this.getPage())},previousPage:function(){this.currentPage>1&&(this.currentPage--,this.getPage())},getPage:function(){var a=this;this.loadingPesq=!0,this.buttonPesquisar=" <i class='fa fa-spinner fa-spin' aria-hidden='true'></i>  ";var t=new FormData(document.querySelector("#form-parametros"));axios.post("/rpclinica/json/faturamento-conta-json?page=".concat(this.currentPage,"&itemsPerPage=").concat(this.itemsPerPage),t).then((function(t){console.log(t.data),a.retornoLista=t.data.query.data,a.paginatedData=t.data.query.data,a.totalPages=t.data.query.last_page,a.totalLinhas=t.data.query.total,console.log(a.paginatedData)})).catch((function(a){toastr.error(a.response.data.message,"Erro")})).finally((function(){a.buttonPesquisar=a.buttonTempleatePesquisar,a.loadingPesq=!1}))},clickModal:function(a,t){$("#situacaoFat").val(a.status_faturamento.cd_situacao_itens).trigger("change"),this.loadingModal=!0,this.dataConta=a,this.idxConta=t,console.log(a)},storefaturamento:function(){var a=this;this.loadingAcao="Salvando Informação...",$(".absolute-loading").show();var t=new FormData(document.querySelector("#form-faturamento"));axios.post("/rpclinica/json/faturamento-store/".concat(this.dataConta.cd_agendamento_item),t).then((function(t){console.log(t.data),a.retornoLista[a.idxConta]=t.data.query,a.paginatedData[a.idxConta]=t.data.query,toastr.success(t.data.message)})).catch((function(a){toastr.error(a.response.data.message,"Erro")})).finally((function(){$(".absolute-loading").hide()}))}}})),$(document).ready((function(){$("#modal-resumo-paciente,#modal-historico-paciente").modal({backdrop:"static",show:!1})}));