Alpine.data("app",(function(){return{panel:null,panelComp:[],panelHist:[],loadingPanel:!1,data,graficoAtendimento:'<br><br><br><i class="fa fa-spinner fa-spin" style="font-size:5em; "></i><br>Carregando...',graficoHeader:' <i style="color: #B0B0B0;" class="fa fa-spinner fa-spin"></i> ',headerAtendimento:null,headerExame:null,headerPendente:null,headerLaudado:null,exameLaudado:[],examePendente:[],loadListaExame:!1,dt:"",dt_extenso:"",classLabelSituacao:{livre:"label-success",agendado:"label-primary",confirmado:"label-info",atendido:"label-warning",bloqueado:"label-danger",cancelado:"label-danger",aguardando:"label-aguardando",atendimento:"label-aguardando"},chart1:null,chart2:null,chart3:null,cardUm:"Atendimentos",cardDois:"Total de Exames",cardTres:"Exames Pendentes",cardQuatro:"Exames Laudados",loadingChart1:!1,nmProfissional:"",optionsChart:{legend:{display:!1},title:{display:!0,text:"World Wine Production 2018"}},init:function(){msgWhast&&Swal.fire({title:"Atenção!",html:msgWhast,icon:"error",confirmButtonColor:"#22BAA0"}),console.log(msgWhast),this.getCompromisso(),this.getDataPanel()},getCompromisso:function(){var e=this;this.loadingPanel=!0,axios.get(routePanelCompromisso).then((function(a){console.log(a.data),e.panelComp=a.data.retorno,e.panelHist=a.data.historico})).catch((function(e){return toastr.error("Houve um erro ao obter os dados do painel")})).finally((function(){return e.loadingPanel=!1}))},getDataPanel:function(){var e=this;document.getElementById("flot1").innerHTML=this.graficoAtendimento,document.getElementById("flot3").innerHTML=this.graficoAtendimento,this.headerAtendimento=this.graficoHeader,this.headerExame=this.graficoHeader,this.headerPendente=this.graficoHeader,this.headerLaudado=this.graficoHeader,this.loadingPanel=!0,this.loadListaExame=!0,axios.get("".concat(routePanelExames,"/").concat(this.data)).then((function(a){e.panel=a.data,e.dt=a.data.request.dt,e.dt_extenso=a.data.request.dt_extenso,console.log(a.data),e.headerAtendimento=a.data.header.atendimento,e.nmProfissional=a.data.request.profissional,e.headerExame=a.data.header.exame,e.headerPendente=a.data.header.pendente,e.headerLaudado=a.data.header.laudado,e.exameLaudado=a.data.exameLaudado,e.examePendente=a.data.examePendente,e.getChartAtendimentos(a.data.grafico),e.getChartExames(a.data.pizza)})).catch((function(e){return toastr.error("Houve um erro ao obter os dados do painel")})).finally((function(){e.loadingPanel=!1,e.loadListaExame=!1}))},getDataChart1:function(){var e=this;this.loadingChart1=!0,setTimeout((function(){e.chart1.data.labels=[55,49,44,24,15],e.chart1.data.datasets=[{backgroundColor:"#22BAA0",borderWidth:1,data:[55,49,44,24,15]}],e.chart1.update(),e.loadingChart1=!1}),5e3)},getChartAtendimentos:function(e){document.getElementById("flot1").innerHTML=null;var a=[{data:e.atend,color:"#22BAA0"}],t={series:{bars:{show:!0}},bars:{align:"center",barWidth:.5},xaxis:{ticks:e.dt_atend},legend:{show:!1},grid:{color:"#AFAFAF",hoverable:!0,borderWidth:0,backgroundColor:"#FFF"},tooltip:!0,tooltipOpts:{content:"Dia: <b> %x</b>, <br> Atendimento(s): <b> %y</b>",defaultTheme:!1}};$.plot($("#flot1"),a,t)},getChartExames:function(e){document.getElementById("flot3").innerHTML=null;var a=e;$.plot($("#flot3"),a,{series:{pie:{show:!0}},legend:{labelFormatter:function(e,a){return'<span class="pie-chart-legend">'+e+"</span>"}},grid:{hoverable:!0},tooltip:!0,tooltipOpts:{content:"%p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1}})}}}));