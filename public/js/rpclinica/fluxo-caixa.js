(()=>{function a(a,e,l){return e in a?Object.defineProperty(a,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[e]=l,a}Alpine.data("app",(function(){var e,l;return l={loading:!0,inputsFilter:(e={fluxo_caixa:"M",ano:(new Date).getFullYear(),ano_final:(new Date).getFullYear()+1,mes_inicial:null,mes_final:null,visao:"REAL",detalhe:"cd_categoria",categoria:null,conta:null,fornecedor:null,setor:null},a(e,"fornecedor",null),a(e,"turma",null),a(e,"tpPesquisa",null),a(e,"dt",null),a(e,"filtro",null),a(e,"nm_filtro",null),e),buttonPesquisar:'<span class="glyphicon glyphicon-filter" aria-hidden="true"></span> Pesquisar',labelSaldo:"R$ 0,00",templateButtonPesquisar:'<span class="glyphicon glyphicon-filter" aria-hidden="true"></span> Pesquisar',templateButtonPesquisando:" <i class='fa fa-spinner fa-spin' aria-hidden='true'></i> Pesquisando "},a(l,"buttonPesquisar",'<span class="glyphicon glyphicon-filter" aria-hidden="true"></span> Pesquisar'),a(l,"tituloFluxo","Fluxo de Caixa - MENSAL"),a(l,"saldoInicial",null),a(l,"Receitas",null),a(l,"Despesas",null),a(l,"saldoOpe",null),a(l,"Transferencia",null),a(l,"saldoFinal",null),a(l,"labelTable",null),a(l,"detalhestable",{iconDetalhes:"<i class='fa fa-hand-o-right'></i>",iconSaldos:"<i class='fa fa-share'></i>",saldo_inicial:null,loadingSaldoInicial:!1,SNsaldoInicial:!1,iconSaldoInicial:'<i class="fa fa-square" style="font-size: 16px;"></i>',receita:null,SNreceita:!1,loadingReceita:!1,iconReceita:'<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>',despesa:null,SNdespesa:!1,loadingDespesa:!1,iconDespesa:'<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>',saldo_ope:null,SNsaldoOpe:!1,loadingSaldoOpe:!1,iconSaldoOpe:'<i class="fa fa-square" style="font-size: 16px;"></i>',transf:null,SNtransf:!1,loadingTrans:!1,iconTrans:'<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>',saldo_final:null,SNsaldoFinal:!1,loadingsaldoFinal:!1,iconSaldoFinal:'<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>'}),a(l,"loading",!0),a(l,"loadingModal",!1),a(l,"relacaoModal",null),a(l,"tituloModal",null),a(l,"init",(function(){var a=this;$("#IdFluxoCaixa").on("select2:select",(function(e){return a.inputsFilter.fluxo_caixa=e.params.data.id})),$("#mesInicial").on("select2:select",(function(e){return a.inputsFilter.mes_inicial=e.params.data.id})),$("#mesFinal").on("select2:select",(function(e){return a.inputsFilter.mes_final=e.params.data.id})),$("#idDetalhe").on("select2:select",(function(e){return a.inputsFilter.detalhe=e.params.data.id})),$("#cdCatgoria").on("select2:select",(function(e){return a.inputsFilter.categoria=e.params.data.id})),$("#cdConta").on("select2:select",(function(e){return a.inputsFilter.conta=e.params.data.id})),$("#cdSetor").on("select2:select",(function(e){return a.inputsFilter.setor=e.params.data.id})),$("#cdFornecedor").on("select2:select",(function(e){return a.inputsFilter.fornecedor=e.params.data.id})),$("#cdTurma").on("select2:select",(function(e){return a.inputsFilter.turma=e.params.data.id})),$("#IdVisao").on("select2:select",(function(e){return a.inputsFilter.visao=e.params.data.id})),this.submitFilters()})),a(l,"submitFilters",(function(){var a=this;this.buttonPesquisar=this.templateButtonPesquisando,this.clear(),console.log(this.inputsFilter),this.loading=!0,this.inputsFilter.tpPesquisa="principal","M"==this.inputsFilter.fluxo_caixa&&(this.tituloFluxo="Fluxo de Caixa - MENSAL"),"D"==this.inputsFilter.fluxo_caixa&&(this.tituloFluxo="Fluxo de Caixa - DI√ÅRIO"),"A"==this.inputsFilter.fluxo_caixa&&(this.tituloFluxo="Fluxo de Caixa - ANUAL"),axios.get("/rpclinica/json/relacao-fluxo-caixa",{params:this.inputsFilter}).then((function(e){$("select#mesInicial").val(1*e.data.request.mesInicial).trigger("change"),a.inputsFilter.mes_inicial=1*e.data.request.mesInicial,$("select#mesFinal").val(1*e.data.request.mesFinal).trigger("change"),a.inputsFilter.mes_final=1*e.data.request.mesFinal,a.saldoInicial=e.data.retorno.saldo_inicial,a.Receitas=e.data.retorno.receita,a.Despesas=e.data.retorno.despesa,a.saldoOpe=e.data.retorno.saldo_ope,a.Transferencia=e.data.retorno.transferencia,a.saldoFinal=e.data.retorno.saldo_final,a.labelTable=e.data.retorno.label,console.log(e.data),console.log(e.data.retorno.saldo_inicial)})).catch((function(e){toastr.error(e.response.data.message,"Erro"),a.labelSaldo="R$ --"})).finally((function(){a.loading=!1,a.buttonPesquisar=a.templateButtonPesquisar}))})),a(l,"detalhesFilters",(function(a){var e=this;if("saldo_inicial"==a){if(1==this.detalhestable.SNsaldoInicial)return this.detalhestable.SNsaldoInicial=!1,this.detalhestable.iconSaldoInicial='<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>',!1;this.detalhestable.loadingSaldoInicial=!0,this.detalhestable.iconSaldoInicial='<i class="fa fa-refresh fa-spin"></i>'}if("receita"==a){if(1==this.detalhestable.SNreceita)return this.detalhestable.SNreceita=!1,this.detalhestable.iconReceita='<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>',!1;this.detalhestable.loadingReceita=!0,this.detalhestable.iconReceita='<i class="fa fa-refresh fa-spin"></i>'}if("despesa"==a){if(1==this.detalhestable.SNdespesa)return this.detalhestable.SNdespesa=!1,this.detalhestable.iconDespesa='<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>',!1;this.detalhestable.loadingDespesa=!0,this.detalhestable.iconDespesa='<i class="fa fa-refresh fa-spin"></i>'}if("saldo_ope"==a){if(1==this.detalhestable.SNsaldoOpe)return this.detalhestable.SNsaldoOpe=!1,this.detalhestable.iconSaldoOpe='<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>',!1;this.detalhestable.loadingSaldoOpe=!0,this.detalhestable.iconSaldoOpe='<i class="fa fa-refresh fa-spin"></i>'}if("transferencia"==a){if(1==this.detalhestable.SNtransf)return this.detalhestable.SNtransf=!1,this.detalhestable.iconTrans='<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>',!1;this.detalhestable.loadingTrans=!0,this.detalhestable.iconTrans='<i class="fa fa-refresh fa-spin"></i>'}if("saldo_final"==a){if(1==this.detalhestable.SNsaldoFinal)return this.detalhestable.SNsaldoFinal=!1,this.detalhestable.iconSaldoFinal='<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>',!1;this.detalhestable.loadingsaldoFinal=!0,this.detalhestable.iconSaldoFinal='<i class="fa fa-refresh fa-spin"></i>'}this.inputsFilter.tpPesquisa=a,axios.get("/rpclinica/json/relacao-fluxo-caixa",{params:this.inputsFilter}).then((function(l){console.log(l.data),"saldo_inicial"==a&&(e.detalhestable.saldo_inicial=l.data.retorno,e.detalhestable.SNsaldoInicial=!0,e.detalhestable.iconSaldoInicial='<i class="fa fa-minus-square-o" style="font-size: 16px;"></i>'),"receita"==a&&(e.detalhestable.receita=l.data.retorno,e.detalhestable.SNreceita=!0,e.detalhestable.iconReceita='<i class="fa fa-minus-square-o" style="font-size: 16px;"></i>'),"despesa"==a&&(e.detalhestable.despesa=l.data.retorno,e.detalhestable.SNdespesa=!0,e.detalhestable.iconDespesa='<i class="fa fa-minus-square-o" style="font-size: 16px;"></i>'),"saldo_ope"==a&&(e.detalhestable.saldo_ope=l.data.retorno,e.detalhestable.SNsaldoOpe=!0,e.detalhestable.iconSaldoOpe='<i class="fa fa-minus-square-o" style="font-size: 16px;"></i>'),"transferencia"==a&&(e.detalhestable.transf=l.data.retorno,e.detalhestable.SNtransf=!0,e.detalhestable.iconTrans='<i class="fa fa-minus-square-o" style="font-size: 16px;"></i>'),"saldo_final"==a&&(e.detalhestable.saldo_final=l.data.retorno,e.detalhestable.SNsaldoFinal=!0,e.detalhestable.iconSaldoFinal='<i class="fa fa-minus-square-o" style="font-size: 16px;"></i>')})).catch((function(a){toastr.error(a.response.data.message,"Erro")})).finally((function(){"saldo_inicial"==a&&(e.detalhestable.loadingSaldoInicial=!1),"receita"==a&&(e.detalhestable.loadingReceita=!1),"despesa"==a&&(e.detalhestable.loadingDespesa=!1),"saldo_ope"==a&&(e.detalhestable.loadingSaldoOpe=!1),"transferencia"==a&&(e.detalhestable.loadingTrans=!1),"saldo_final"==a&&(e.detalhestable.loadingsaldoFinal=!1)}))})),a(l,"movimentosFilters",(function(a,e,l,s){var t=this;this.inputsFilter.tpPesquisa=a,this.inputsFilter.dt=e,this.inputsFilter.filtro=l,this.inputsFilter.nm_filtro=s,$(".modalMovimento").modal("show"),this.loadingModal=!0,console.log(this.inputsFilter),axios.get("/rpclinica/json/relacao-fluxo-caixa-movimento",{params:this.inputsFilter}).then((function(a){t.relacaoModal=a.data.retorno,t.tituloModal=a.data.titulo,console.log(t.relacaoModal)})).catch((function(a){toastr.error(a.response.data.message,"Erro")})).finally((function(){t.loading=!1,t.loadingModal=!1}))})),a(l,"prevYear",(function(a){"I"==a?this.inputsFilter.ano=this.inputsFilter.ano-1:this.inputsFilter.ano_final=this.inputsFilter.ano_final-1})),a(l,"nextYear",(function(a){"I"==a?this.inputsFilter.ano=this.inputsFilter.ano+1:this.inputsFilter.ano_final=this.inputsFilter.ano_final+1})),a(l,"formatValor",(function(a){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)})),a(l,"clear",(function(){this.saldoInicial=null,this.Receitas=null,this.Despesas=null,this.saldoOpe=null,this.Transferencia=null,this.saldoFinal=null,this.labelTable=null,this.detalhestable.iconDetalhes="<i class='fa fa-hand-o-right'></i>",this.detalhestable.iconSaldos="<i class='fa fa-share'></i>",this.detalhestable.saldo_inicial=null,this.detalhestable.loadingSaldoInicial=!1,this.detalhestable.SNsaldoInicial=!1,this.detalhestable.iconSaldoInicial='<i class="fa fa-square" style="font-size: 16px;"></i>',this.detalhestable.receita=null,this.detalhestable.SNreceita=!1,this.detalhestable.loadingReceita=!1,this.detalhestable.iconReceita='<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>',this.detalhestable.despesanull,this.detalhestable.SNdespesa=!1,this.detalhestable.loadingDespesa=!1,this.detalhestable.iconDespesa='<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>',this.detalhestable.saldo_ope=null,this.detalhestable.SNsaldoOpe=!1,this.detalhestable.loadingSaldoOpe=!1,this.detalhestable.iconSaldoOpe='<i class="fa fa-square" style="font-size: 16px;"></i>',this.detalhestable.transf=null,this.detalhestable.SNtransf=!1,this.detalhestable.loadingTrans=!1,this.detalhestable.iconTrans='<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>',this.detalhestable.saldo_final=null,this.detalhestable.SNsaldoFinal=!1,this.detalhestable.loadingsaldoFinal=!1,this.detalhestable.iconSaldoFinal='<i class="fa fa-plus-square-o" style="font-size: 16px;"></i>'})),l}))})();