/*! For license information please see perfil-profissional_atual.js.LICENSE.txt */
(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){"use strict";t=function(){return o};var o={},i=Object.prototype,r=i.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,o){return e[t]=o}}function u(e,t,o,i){var r=t&&t.prototype instanceof f?t:f,n=Object.create(r.prototype),a=new P(i||[]);return n._invoke=function(e,t,o){var i="suspendedStart";return function(r,n){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw n;return S()}for(o.method=r,o.arg=n;;){var a=o.delegate;if(a){var s=w(a,o);if(s){if(s===p)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===i)throw i="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i="executing";var c=d(e,t,o);if("normal"===c.type){if(i=o.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(i="completed",o.method="throw",o.arg=c.arg)}}}(e,o,a),n}function d(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}o.wrap=u;var p={};function f(){}function m(){}function h(){}var g={};l(g,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(D([])));y&&y!==i&&r.call(y,a)&&(g=y);var x=h.prototype=f.prototype=Object.create(g);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(t,o){function i(n,a,s,c){var l=d(t[n],t,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==e(p)&&r.call(p,"__await")?o.resolve(p.__await).then((function(e){i("next",e,s,c)}),(function(e){i("throw",e,s,c)})):o.resolve(p).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,c)}))}c(l.arg)}var n;this._invoke=function(e,t){function r(){return new o((function(o,r){i(e,t,o,r)}))}return n=n?n.then(r,r):r()}}function w(e,t){var o=e.iterator[t.method];if(void 0===o){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=d(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function D(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(r.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=h,l(x,"constructor",h),l(h,"constructor",m),m.displayName=l(h,c,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},o.awrap=function(e){return{__await:e}},E(_.prototype),l(_.prototype,s,(function(){return this})),o.AsyncIterator=_,o.async=function(e,t,i,r,n){void 0===n&&(n=Promise);var a=new _(u(e,t,i,r),n);return o.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(x),l(x,c,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),o.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var i=t.pop();if(i in e)return o.value=i,o.done=!1,o}return o.done=!0,o}},o.values=D,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(o,i){return a.type="throw",a.arg=e,t.next=o,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],a=n.completion;if("root"===n.tryLoc)return o("end");if(n.tryLoc<=this.prev){var s=r.call(n,"catchLoc"),c=r.call(n,"finallyLoc");if(s&&c){if(this.prev<n.catchLoc)return o(n.catchLoc,!0);if(this.prev<n.finallyLoc)return o(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return o(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return o(n.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=e,a.arg=t,n?(this.method="next",this.next=n.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),C(o),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var i=o.completion;if("throw"===i.type){var r=i.arg;C(o)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:D(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=void 0),p}},o}function o(e,t,o,i,r,n,a){try{var s=e[n](a),c=s.value}catch(e){return void o(e)}s.done?t(c):Promise.resolve(c).then(i,r)}Alpine.data("appConfiguracao",(function(){return{loadingConfig:!1,cdProfissional,tipoDoc:"DOC",deleteAssinatura:function(){var e=this;Swal.fire({title:"Confirmação",text:"Tem certeza que deseja excluir essa assinatura?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Não",confirmButtonText:"Sim"}).then((function(t){t.isConfirmed&&axios.delete("/rpclinica/profissional-assinatura/".concat(e.cdProfissional)).then((function(e){$("#img_assinatura").remove(),toastr.success("Formulario excluido com sucesso!")})).catch((function(e){return toastr.error("Não foi possivel excluir a imagem!")}))}))}}})),Alpine.data("appFormulario",(function(){return{inputsFormulario:{nome:null,tipo_formulario:null,especialidade:null,conteudo:null,exame:null,hipotese:null,conduta:null},loadingSubmitFormulario:!1,tiposFormulario:{ATE:"Atendimentos/Anammnese",CON:"Conduta",DOC:"Documentos",EXA:"Exame Fisico",RIP:"Hipótese Diagnóstica"},formularios:[],indiceFormularioDelete:null,documentosPadrao:[],tipo_formulario:"DOC",editor:null,editorExame:null,editorHipotese:null,editorConduta:null,cdProfissional,init:function(){var e=this;this.editor=CKEDITOR.replace("conteudo_formulario",{toolbarGroups:[{name:"basicstyles",groups:["basicstyles"]},{name:"undo",groups:["Undo","Redo"]},{name:"paragraph",groups:["list","blocks"]},{name:"insert",groups:["insert"]},{name:"styles",groups:["styles"]}],removeButtons:"Subscript,Superscript,",resize_enabled:!1,removePlugins:"elementspath",height:["300px"],enterMode:CKEDITOR.ENTER_BR,shiftEnterMode:CKEDITOR.ENTER_BR}),this.editorExame=CKEDITOR.replace("conteudo_exame",{toolbarGroups:[{name:"basicstyles",groups:["basicstyles"]},{name:"undo",groups:["Undo","Redo"]},{name:"paragraph",groups:["list","blocks"]},{name:"insert",groups:["insert"]},{name:"styles",groups:["styles"]}],removeButtons:"Subscript,Superscript,",resize_enabled:!1,removePlugins:"elementspath",height:["200px"],enterMode:CKEDITOR.ENTER_BR,shiftEnterMode:CKEDITOR.ENTER_BR}),this.editorHipotese=CKEDITOR.replace("conteudo_hipotese",{toolbarGroups:[{name:"basicstyles",groups:["basicstyles"]},{name:"undo",groups:["Undo","Redo"]},{name:"paragraph",groups:["list","blocks"]},{name:"insert",groups:["insert"]},{name:"styles",groups:["styles"]}],removeButtons:"Subscript,Superscript,",resize_enabled:!1,removePlugins:"elementspath",height:["200px"],enterMode:CKEDITOR.ENTER_BR,shiftEnterMode:CKEDITOR.ENTER_BR}),this.editorConduta=CKEDITOR.replace("conteudo_conduta",{toolbarGroups:[{name:"basicstyles",groups:["basicstyles"]},{name:"undo",groups:["Undo","Redo"]},{name:"paragraph",groups:["list","blocks"]},{name:"insert",groups:["insert"]},{name:"styles",groups:["styles"]}],removeButtons:"Subscript,Superscript,",resize_enabled:!1,removePlugins:"elementspath",height:["200px"],enterMode:CKEDITOR.ENTER_BR,shiftEnterMode:CKEDITOR.ENTER_BR}),this.formularios=formularios,this.documentosPadrao=documentosPadrao,$("#tipo_formulario").on("select2:select",(function(t){e.inputsFormulario.tipo_formulario=t.params.data.id,e.tipo_formulario=t.params.data.id})),$("#especialidade-formulario").on("select2:select",(function(t){e.inputsFormulario.especialidade=t.params.data.id}))},deleteAssinatura:function(){var e=this;Swal.fire({title:"Confirmação",text:"Tem certeza que deseja excluir essa assinatura?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Não",confirmButtonText:"Sim"}).then((function(t){t.isConfirmed&&(location.href="https://www.w3schools.com",axios.delete("/rpclinica/profissional-assinatura/".concat(e.cdProfissional)).then((function(e){$("#img_assinatura").remove(),toastr.success("Formulario excluido com sucesso!")})).catch((function(e){return toastr.error("Não foi possivel excluir a imagem!")})))}))},clearFormulario:function(){var e;this.inputsFormulario={nome:null,tipo_formulario:null,especialidade:null,conteudo:null,sn_header:null},$("#tipo_formulario").val(null).trigger("change"),$("#especialidade-formulario").val(null).trigger("change"),null===(e=this.editor)||void 0===e||e.setData(null)},setEditFormulario:function(e){var t,o,i,r;this.inputsFormulario.cd_formulario=e.cd_formulario,this.inputsFormulario.nome=e.nm_formulario,$("#tipo_formulario").val(e.tp_formulario).trigger("change"),this.inputsFormulario.tipo_formulario=e.tp_formulario,this.tipo_formulario=e.tp_formulario,null===(t=this.editor)||void 0===t||t.setData(e.conteudo),this.inputsFormulario.conteudo=e.conteudo,null===(o=this.editorExame)||void 0===o||o.setData(e.exame),this.inputsFormulario.exame=e.exame,null===(i=this.editorHipotese)||void 0===i||i.setData(e.hipotese),this.inputsFormulario.hipotese=e.hipotese,null===(r=this.editorConduta)||void 0===r||r.setData(e.conduta),this.inputsFormulario.conduta=e.conduta,window.scrollTo(0,0)},formularioSubmit:function(){var e,t,o,i,r,n,a,s,c=this;this.inputsFormulario.conteudo=null===(e=this.editor)||void 0===e?void 0:e.getData(),this.inputsFormulario.exame=null===(t=this.editorExame)||void 0===t?void 0:t.getData(),this.inputsFormulario.conduta=null===(o=this.editorConduta)||void 0===o?void 0:o.getData(),this.inputsFormulario.hipotese=null===(i=this.editorHipotese)||void 0===i?void 0:i.getData();var l=new FormData(document.querySelector("#formulario-texto")),u=null===(r=this.editor)||void 0===r?void 0:r.getData();l.set("conteudo",u);var d=null===(n=this.editorExame)||void 0===n?void 0:n.getData();l.set("exame",d);var p=null===(a=this.editorConduta)||void 0===a?void 0:a.getData();l.set("conduta",p);var f=null===(s=this.editorHipotese)||void 0===s?void 0:s.getData();l.set("hipotese",f),this.loadingSubmitFormulario=!0,console.log(this.inputsFormulario),this.inputsFormulario.cd_formulario?axios.put("/rpclinica/json/perfil-profissional-formulario-update",this.inputsFormulario).then((function(e){var t=c.formularios.findIndex((function(e){return e.cd_formulario==c.inputsFormulario.cd_formulario}));c.formularios[t]=e.data.formulario,document.getElementById("formulario-texto").reset(),$("#tipo_formulario").val(null).trigger("change"),c.tipo_formulario="DOC",toastr.success(e.data.message),c.clearFormulario()})).catch((function(e){return toastr.error(e.response.data.message)})).finally((function(){return c.loadingSubmitFormulario=!1})):axios.post("/rpclinica/json/perfil-profissional-formulario-create",l).then((function(e){c.formularios.push(e.data.formulario),document.getElementById("formulario-texto").reset(),$("#tipo_formulario").val(null).trigger("change"),c.tipo_formulario="DOC",toastr.success(e.data.message),c.clearFormulario()})).catch((function(e){return toastr.error(e.response.data.message)})).finally((function(){return c.loadingSubmitFormulario=!1}))},deleteFormulario:function(e,t){var o=this;Swal.fire({title:"Confirmação",text:"Tem certeza que deseja excluir esse formulario?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#22BAA0",cancelButtonColor:"#d33",cancelButtonText:"Não",confirmButtonText:"Sim"}).then((function(i){i.isConfirmed&&(o.indiceFormularioDelete=t,axios.delete("/rpclinica/json/perfil-profissional-formulario-delete/".concat(e)).then((function(e){o.formularios.splice(t,1),toastr.success("Formulario excluido com sucesso!"),document.getElementById("formulario-texto").reset(),$("#tipo_formulario").val(null).trigger("change"),o.tipo_formulario="DOC"})).catch((function(e){return toastr.error("Não foi possivel excluir o formulario!")})).finally((function(){return o.indiceFormularioDelete=null})))}))},copyText:function(e){return(i=t().mark((function o(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText(e);case 3:toastr.success("Copiado!"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),toastr.error("Não foi possivel copiar. Erro: ".concat(t.t0));case 9:case"end":return t.stop()}}),o,null,[[0,6]])})),function(){var e=this,t=arguments;return new Promise((function(r,n){var a=i.apply(e,t);function s(e){o(a,r,n,s,c,"next",e)}function c(e){o(a,r,n,s,c,"throw",e)}s(void 0)}))})();var i},copyDocumento:function(e){var t;this.inputsFormulario.nome=e.nm_documento,null===(t=this.editor)||void 0===t||t.setData(e.conteudo),window.scrollTo(0,0)}}})),Alpine.data("appProcedimetos",(function(){return{inputsProcedimento:{procedimento:null,convenio:null,valor:null},loadingSubmitProcedimento:!1,procedimentosProfissional:[],indiceProcedimentoDelete:null,init:function(){var e=this;this.procedimentosProfissional=procedimentosProfissional,$("#procedimento").on("select2:select",(function(t){return e.inputsProcedimento.procedimento=t.params.data.id})),$("#convenio").on("select2:select",(function(t){return e.inputsProcedimento.convenio=t.params.data.id}))},clear:function(){this.inputsProcedimento={procedimento:null,convenio:null,valor:null},$("#procedimento").val(null).trigger("change"),$("#convenio").val(null).trigger("change")},setProcedimentoEdit:function(e){this.inputsProcedimento.cd_proc_prof=e.cd_proc_prof,this.inputsProcedimento.procedimento=e.cd_proc,this.inputsProcedimento.convenio=e.cd_convenio,this.inputsProcedimento.valor=e.vl_proc,$("#procedimento").val(e.cd_proc).trigger("change"),$("#convenio").val(e.cd_convenio).trigger("change")},procedimentoSubmit:function(){var e=this;this.loadingSubmitProcedimento=!0,this.inputsProcedimento.cd_proc_prof?axios.put("/rpclinica/json/perfil-profissional-procedimento-update",this.inputsProcedimento).then((function(t){var o=e.procedimentosProfissional.findIndex((function(t){return t.cd_proc_prof==e.inputsProcedimento.cd_proc_prof}));e.procedimentosProfissional[o]=t.data.procedimento,toastr.success(t.data.message),e.clear()})).catch((function(e){return toastr.error(e.response.data.message)})).finally((function(){return e.loadingSubmitProcedimento=!1})):axios.post("/rpclinica/json/perfil-profissional-procedimento-create",this.inputsProcedimento).then((function(t){e.procedimentosProfissional.push(t.data.procedimento),toastr.success(t.data.message),e.clear()})).catch((function(e){return toastr.error(e.response.data.message)})).finally((function(){return e.loadingSubmitProcedimento=!1}))},deleteProcedimento:function(e,t){var o=this;Swal.fire({title:"Confirmação",text:"Tem certeza que deseja excluir esse procedimento?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Não",confirmButtonText:"Sim"}).then((function(i){i.isConfirmed&&(o.indiceProcedimentoDelete=t,axios.post("/rpclinica/profissional-delete-procedimento/".concat(e)).then((function(e){o.procedimentosProfissional.splice(t,1),toastr.success("Procedimento excluido com sucesso!")})).catch((function(e){return toastr.error("Não foi possivel excluir o procedimento!")})).finally((function(){return o.indiceProcedimentoDelete=null})))}))}}})),Alpine.data("appEspecialidades",(function(){return{inputsEspecialidade:{especialidade:null,compartilha:null},loadingSubmitEspecialidade:!1,especialidadesProfissional:[],indiceEspecialidadeDelete:null,init:function(){var e=this;this.especialidadesProfissional=especialidadesProfissional,$("#especialidade").on("select2:select",(function(t){return e.inputsEspecialidade.especialidade=t.params.data.id})),$("#compartilha").on("select2:select",(function(t){return e.inputsEspecialidade.compartilha=t.params.data.id}))},clear:function(){this.inputsEspecialidade={especialidade:null,compartilha:null},$("#especialidade").val(null).trigger("change"),$("#compartilha").val(null).trigger("change")},setEspecialidadeEdit:function(e){this.inputsEspecialidade.cd_prof_espec=e.cd_prof_espec,this.inputsEspecialidade.especialidade=e.cd_especialidade,this.inputsEspecialidade.compartilha=e.sn_compartilha,$("#especialidade").val(e.cd_especialidade).trigger("change"),$("#compartilha").val(e.sn_compartilha).trigger("change")},submitEspecialidade:function(){var e=this;this.loadingSubmitEspecialidade=!0,this.inputsEspecialidade.cd_prof_espec?axios.put("/rpclinica/json/perfil-profissional-especialidade-update",this.inputsEspecialidade).then((function(t){var o=e.especialidadesProfissional.findIndex((function(t){return t.cd_prof_espec==e.inputsEspecialidade.cd_prof_espec}));e.especialidadesProfissional[o]=t.data.especialidade,toastr.success(t.data.message),e.clear()})).catch((function(e){return toastr.error(e.response.data.message)})).finally((function(){return e.loadingSubmitEspecialidade=!1})):axios.post("/rpclinica/json/perfil-profissional-especialidade-create",this.inputsEspecialidade).then((function(t){e.especialidadesProfissional.push(t.data.especialidade),toastr.success(t.data.message),e.clear()})).catch((function(e){return toastr.error(e.response.data.message)})).finally((function(){return e.loadingSubmitEspecialidade=!1}))},deleteEspecialidade:function(e,t){var o=this;Swal.fire({title:"Confirmação",text:"Tem certeza que deseja excluir esse especialidade?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Não",confirmButtonText:"Sim"}).then((function(i){i.isConfirmed&&(o.indiceEspecialidadeDelete=t,axios.post("/rpclinica/profissional-delete-especialidade/".concat(e)).then((function(e){o.especialidadesProfissional.splice(t,1),toastr.success("Especialidade excluido com sucesso!")})).catch((function(e){return toastr.error("Não foi possivel excluir o especialidade!")})).finally((function(){return o.indiceEspecialidadeDelete=null})))}))}}})),Alpine.data("appCertificado",(function(){return{inputsForms:{tipo:null},init:function(){},deleteCertificado:function(){Swal.fire({title:"Confirmação",text:"Deseja excluir o certificado?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#22baa0",cancelButtonColor:"#d33",cancelButtonText:"Não",confirmButtonText:"Sim"}).then((function(e){e.isConfirmed&&(location.href="perfil-prof-del-certificado")}))}}}))})();