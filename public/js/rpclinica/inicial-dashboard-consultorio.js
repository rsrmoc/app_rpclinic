Alpine.data("app",(function(){return{panel:null,panelComp:[],panelHist:[],loadingPanel:!1,data,graficoAtendimento:'<br><br><br><i class="fa fa-spinner fa-spin" style="font-size:5em; "></i><br>Carregando...',graficoHeader:' <i style="color: #B0B0B0;" class="fa fa-spinner fa-spin"></i> ',headerAtendimento:null,headerExame:null,headerPendente:null,headerLaudado:null,exameLaudado:[],examePendente:[],loadListaExame:!1,dt:"",dt_extenso:"",classLabelSituacao:{livre:"label-success",agendado:"label-primary",confirmado:"label-info",atendido:"label-warning",bloqueado:"label-danger",cancelado:"label-danger",aguardando:"label-aguardando",atendimento:"label-aguardando"},chart1:null,chart2:null,chart3:null,cardUm:"Agendamentos",cardDois:"Agendados",cardTres:"Cancelados",cardQuatro:"Atendidos",loadingChart1:!1,optionsChart:{legend:{display:!1},title:{display:!0,text:"World Wine Production 2018"}},nmProfissional:"",init:function(){msgWhast&&Swal.fire({title:"Atenção!",html:msgWhast,icon:"error",confirmButtonColor:"#22BAA0"}),console.log(msgWhast),this.getCompromisso(),this.getDataPanel()},getCompromisso:function(){var a=this;this.loadingPanel=!0,axios.get(routePanelCompromisso).then((function(e){console.log(e.data),a.panelComp=e.data.retorno,a.panelHist=e.data.historico})).catch((function(a){return toastr.error("Houve um erro ao obter os dados do painel")})).finally((function(){return a.loadingPanel=!1}))},getDataPanel:function(){var a=this;document.getElementById("flot1").innerHTML=this.graficoAtendimento,this.headerAtendimento=this.graficoHeader,this.headerExame=this.graficoHeader,this.headerPendente=this.graficoHeader,this.headerLaudado=this.graficoHeader,this.loadingPanel=!0,this.loadListaExame=!0,axios.get("".concat(routePanelConsultorio,"/").concat(this.data)).then((function(e){a.panel=e.data,a.dt=e.data.request.dt,a.dt_extenso=e.data.request.dt_extenso,a.nmProfissional=e.data.request.profissional,console.log(e.data),a.headerAtendimento=e.data.header.atendimento,a.headerExame=e.data.header.exame,a.headerPendente=e.data.header.pendente,a.headerLaudado=e.data.header.laudado,a.exameLaudado=e.data.exameLaudado,a.examePendente=e.data.examePendente,a.getChartAtendimentos(e.data.grafico)})).catch((function(a){return toastr.error("Houve um erro ao obter os dados do painel")})).finally((function(){a.loadingPanel=!1,a.loadListaExame=!1}))},getDataChart1:function(){var a=this;this.loadingChart1=!0,setTimeout((function(){a.chart1.data.labels=[55,49,44,24,15],a.chart1.data.datasets=[{backgroundColor:"#22BAA0",borderWidth:1,data:[55,49,44,24,15]}],a.chart1.update(),a.loadingChart1=!1}),5e3)},getChartAtendimentos:function(a){document.getElementById("flot1").innerHTML=null;var e=a.atend,t=(a.color,[{data:e,color:"#22BAA0"}]),o={series:{bars:{show:!0}},bars:{align:"center",barWidth:.5},xaxis:{ticks:a.dt_atend},legend:{show:!1},grid:{color:"#AFAFAF",hoverable:!0,borderWidth:0,backgroundColor:"transparent",tickColor:"transparent"},tooltip:!0,tooltipOpts:{content:"Dia: <b> %x</b>, <br> Atendimento(s): <b> %y</b>",defaultTheme:!1}};$.plot($("#flot1"),t,o)},getChartExames:function(a){document.getElementById("flot3").innerHTML=null;var e=[{label:"Pendentes",data:a.pendente,color:"#f25656"},{label:"Realizados",data:a.laudado,color:"#22baa0"}];$.plot($("#flot3"),e,{series:{pie:{show:!0}},legend:{labelFormatter:function(a,e){return'<span class="pie-chart-legend">'+a+"</span>"}},grid:{hoverable:!0},tooltip:!0,tooltipOpts:{content:"%p.0%, %s",shifts:{x:20,y:0},defaultTheme:!1}})}}}));