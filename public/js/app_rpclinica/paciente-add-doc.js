Alpine.data("appPacienteDoc",(function(){return{loading:!1,dataDoc:{cd_pac:cdPaciente,cd_formulario:null,conteudo:null},editor:null,init:function(){var o=this;this.editor=CKEDITOR.replace("editor",{toolbar:[{name:"clipboard",items:["Undo","Redo"]},{name:"basicstyles",items:["Bold","Italic","Underline","-","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["Maximize"]}]}),this.$watch("dataDoc.cd_formulario",(function(){var t,a;o.editor.setData(null!==(t=null===(a=formularios.find((function(t){return t.cd_formulario==o.dataDoc.cd_formulario})))||void 0===a?void 0:a.conteudo_atual)&&void 0!==t?t:"")}))},saveDoc:function(){var o,t=this;this.loading=!0;var a=Object.assign({},this.dataDoc);a.conteudo=this.editor.getData(),a.nm_formulario=null===(o=formularios.find((function(o){return o.cd_formulario==a.cd_formulario})))||void 0===o?void 0:o.nm_formulario,axios.post(routePacienteAddDoc,a).then((function(o){toastr.success(o.data.message),t.dataDoc.cd_formulario=null,t.dataDoc.conteudo=null,t.editor.setData("")})).catch((function(o){return parseErrorsAPI(o)})).finally((function(){return t.loading=!1}))}}}));